# ìŒì„± ê¸°ë°˜ í‚¤ì˜¤ìŠ¤í¬ AI ì£¼ë¬¸ ì‹œìŠ¤í…œ - ì•„í‚¤í…ì²˜ ì‹œê°í™”

## 1. ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤"
        A[ğŸ‘¤ ì‚¬ìš©ì ìŒì„± ì…ë ¥]
        B[ğŸ¤ ë§ˆì´í¬ ì…ë ¥]
        C[ğŸ“ í…ìŠ¤íŠ¸ ì…ë ¥]
        D[ğŸ“ ìŒì„± íŒŒì¼ ì…ë ¥]
    end
    
    subgraph "ìŒì„± ì „ì²˜ë¦¬ ê³„ì¸µ"
        E[ğŸ”Š AudioProcessor<br/>ë‹¤ì¤‘í™”ìì¸ì‹/êµ¬ë¶„]
        F[ğŸ™ï¸ MicrophoneManager<br/>VAD ê¸°ë°˜ ì‹¤ì‹œê°„ ì²˜ë¦¬]
    end
    
    subgraph "ìŒì„±ì¸ì‹ ê³„ì¸µ"
        G[ğŸ—£ï¸ SpeechRecognizer<br/>Whisper ê¸°ë°˜ STT]
    end
    
    subgraph "ìì—°ì–´ ì²˜ë¦¬ ê³„ì¸µ"
        H[ğŸ§  IntentRecognizer<br/>GPT-4o ê¸°ë°˜ ì˜ë„ íŒŒì•…]
        I[ğŸ’¬ DialogueManager<br/>ë©€í‹°í„´ ëŒ€í™” ê´€ë¦¬]
    end
    
    subgraph "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ"
        J[ğŸ” MenuManager<br/>ë©”ë‰´ ê´€ë¦¬]
        K[ğŸ“‹ OrderManager<br/>ì£¼ë¬¸ ì²˜ë¦¬]
        L[ğŸ’³ PaymentProcessor<br/>ê²°ì œ ì²˜ë¦¬]
    end
    
    subgraph "ì‘ë‹µ ìƒì„± ê³„ì¸µ"
        M[ğŸ“ TextResponseSystem<br/>ì‘ë‹µ ìƒì„±]
        N[ğŸ”Š TTSManager<br/>ìŒì„± í•©ì„±]
    end
    
    subgraph "ë°ì´í„° ì €ì¥ì†Œ"
        O[(ğŸ—„ï¸ ë©”ë‰´ ì„¤ì •<br/>menu_config.json)]
        P[(ğŸ“Š ì£¼ë¬¸ ë°ì´í„°)]
        Q[(ğŸ“ ë¡œê·¸ ë°ì´í„°)]
    end
    
    A --> E
    B --> F
    C --> H
    D --> E
    
    E --> G
    F --> G
    G --> H
    H --> I
    I --> J
    I --> K
    I --> L
    
    J --> M
    K --> M
    L --> M
    M --> N
    
    J <--> O
    K <--> P
    M --> Q
    
    N --> R[ğŸ”Š ìŒì„± ì¶œë ¥]
    M --> S[ğŸ“± í…ìŠ¤íŠ¸ ì¶œë ¥]
```

## 2. ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ì‚¬ìš©ì
    participant M as ğŸ¤ ë§ˆì´í¬
    participant A as ğŸ”Š ìŒì„±ì „ì²˜ë¦¬
    participant S as ğŸ—£ï¸ ìŒì„±ì¸ì‹
    participant I as ğŸ§  ì˜ë„íŒŒì•…
    participant D as ğŸ’¬ ëŒ€í™”ê´€ë¦¬
    participant O as ğŸ“‹ ì£¼ë¬¸ê´€ë¦¬
    participant R as ğŸ“ ì‘ë‹µìƒì„±
    participant T as ğŸ”Š TTS
    
    U->>M: ìŒì„± ì…ë ¥
    M->>A: ì‹¤ì‹œê°„ ìŒì„± ë°ì´í„°
    A->>S: ì „ì²˜ë¦¬ëœ ìŒì„±
    S->>I: í…ìŠ¤íŠ¸ ë³€í™˜
    I->>D: ì˜ë„ ë¶„ì„ ê²°ê³¼
    D->>O: ì£¼ë¬¸ ëª…ë ¹
    O->>R: ì£¼ë¬¸ ìƒíƒœ
    R->>T: ì‘ë‹µ í…ìŠ¤íŠ¸
    T->>U: ìŒì„± ì‘ë‹µ
    
    Note over U,T: ì „ì²´ ì²˜ë¦¬ ì‹œê°„: ~20ì´ˆ (ì‹¤ì¸¡, ë„¤íŠ¸ì›Œí¬ í¬í•¨)
```

## 3. ëª¨ë“ˆë³„ ìƒì„¸ êµ¬ì¡°

```mermaid
graph LR
    subgraph "src/"
        subgraph "audio/"
            A1[preprocessing.py<br/>ë‹¤ì¤‘í™”ìì¸ì‹]
            A2[tts_manager.py<br/>ìŒì„±í•©ì„±]
        end
        
        subgraph "speech/"
            S1[recognition.py<br/>Whisper STT]
        end
        
        subgraph "conversation/"
            C1[intent.py<br/>ì˜ë„íŒŒì•…]
            C2[dialogue.py<br/>ëŒ€í™”ê´€ë¦¬]
        end
        
        subgraph "order/"
            O1[menu.py<br/>ë©”ë‰´ê´€ë¦¬]
            O2[order.py<br/>ì£¼ë¬¸ì²˜ë¦¬]
        end
        
        subgraph "microphone/"
            M1[microphone_manager.py<br/>ë§ˆì´í¬ê´€ë¦¬]
            M2[vad_processor.py<br/>ìŒì„±í™œë™ê°ì§€]
        end
        
        subgraph "testing/"
            T1[test_case_generator.py<br/>í…ŒìŠ¤íŠ¸ìƒì„±]
            T2[test_runner.py<br/>í…ŒìŠ¤íŠ¸ì‹¤í–‰]
        end
    end
```

## 4. í‚¤ì˜¤ìŠ¤í¬ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

```mermaid
stateDiagram-v2
    [*] --> ëŒ€ê¸°ìƒíƒœ
    ëŒ€ê¸°ìƒíƒœ --> ìŒì„±ê°ì§€ : ì‚¬ìš©ì ì ‘ê·¼
    ìŒì„±ê°ì§€ --> ìŒì„±ì¸ì‹ : ìŒì„± ì…ë ¥ ì‹œì‘
    ìŒì„±ì¸ì‹ --> ì˜ë„íŒŒì•… : STT ì™„ë£Œ
    ì˜ë„íŒŒì•… --> ì£¼ë¬¸ì²˜ë¦¬ : ì£¼ë¬¸ ì˜ë„
    ì˜ë„íŒŒì•… --> ë¬¸ì˜ì‘ë‹µ : ë¬¸ì˜ ì˜ë„
    ì˜ë„íŒŒì•… --> ë„ì›€ë§ : ë„ì›€ ìš”ì²­
    
    ì£¼ë¬¸ì²˜ë¦¬ --> ë©”ë‰´í™•ì¸ : ë©”ë‰´ ê²€ìƒ‰
    ë©”ë‰´í™•ì¸ --> ì˜µì…˜ì„ íƒ : ë©”ë‰´ ë°œê²¬
    ì˜µì…˜ì„ íƒ --> ì£¼ë¬¸í™•ì • : ì˜µì…˜ ì™„ë£Œ
    ì£¼ë¬¸í™•ì • --> ê²°ì œì²˜ë¦¬ : ê²°ì œ ìš”ì²­
    ê²°ì œì²˜ë¦¬ --> ì™„ë£Œ : ê²°ì œ ì„±ê³µ
    
    ë¬¸ì˜ì‘ë‹µ --> ëŒ€ê¸°ìƒíƒœ : ì‘ë‹µ ì™„ë£Œ
    ë„ì›€ë§ --> ëŒ€ê¸°ìƒíƒœ : ë„ì›€ë§ ì œê³µ
    ì™„ë£Œ --> ëŒ€ê¸°ìƒíƒœ : ì£¼ë¬¸ ì™„ë£Œ
    
    ë©”ë‰´í™•ì¸ --> ëŒ€ê¸°ìƒíƒœ : ë©”ë‰´ ì—†ìŒ
    ì˜µì…˜ì„ íƒ --> ì£¼ë¬¸ì²˜ë¦¬ : ì˜µì…˜ ë³€ê²½
```

## 5. ê¸°ìˆ  ìŠ¤íƒ êµ¬ì„±ë„

```mermaid
graph TB
    subgraph "í”„ë¡ íŠ¸ì—”ë“œ ê³„ì¸µ"
        F1[ğŸ¤ ë§ˆì´í¬ ì…ë ¥]
        F2[ğŸ“ í…ìŠ¤íŠ¸ ì…ë ¥]
        F3[ğŸ“ íŒŒì¼ ì…ë ¥]
    end
    
    subgraph "AI/ML ê³„ì¸µ"
        AI1[ğŸ¤– OpenAI Whisper<br/>ìŒì„±ì¸ì‹]
        AI2[ğŸ§  GPT-4o<br/>ìì—°ì–´ì²˜ë¦¬]
        AI3[ğŸ”Š OpenAI TTS<br/>ìŒì„±í•©ì„±]
        AI4[ğŸ“Š Silero VAD<br/>ìŒì„±í™œë™ê°ì§€]
    end
    
    subgraph "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ"
        BL1[ğŸ” ë©”ë‰´ ê´€ë¦¬]
        BL2[ğŸ“‹ ì£¼ë¬¸ ì²˜ë¦¬]
        BL3[ğŸ’¬ ëŒ€í™” ê´€ë¦¬]
        BL4[ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ]
    end
    
    subgraph "ë°ì´í„° ê³„ì¸µ"
        D1[ğŸ“„ JSON ì„¤ì •íŒŒì¼]
        D2[ğŸ“Š ë¡œê·¸ ë°ì´í„°]
        D3[ğŸµ ì„ì‹œ ì˜¤ë””ì˜¤ íŒŒì¼]
    end
    
    subgraph "ì¸í”„ë¼ ê³„ì¸µ"
        I1[ğŸ Python 3.8+]
        I2[ğŸ“¦ pip íŒ¨í‚¤ì§€ ê´€ë¦¬]
        I3[ğŸ”§ í™˜ê²½ë³€ìˆ˜ ì„¤ì •]
    end
    
    F1 --> AI4
    F2 --> AI2
    F3 --> AI1
    
    AI4 --> AI1
    AI1 --> AI2
    AI2 --> BL3
    BL3 --> BL1
    BL3 --> BL2
    AI2 --> AI3
    
    BL1 --> D1
    BL2 --> D2
    AI1 --> D3
    
    AI1 --> I1
    AI2 --> I1
    BL1 --> I2
    BL2 --> I3
```

## 6. ì„±ëŠ¥ ë° í’ˆì§ˆ ì§€í‘œ

```mermaid
pie title ì²˜ë¦¬ ì‹œê°„ ë¶„í¬ (ì‹¤ì¸¡ ê¸°ë°˜)
    "ë„¤íŠ¸ì›Œí¬ ì§€ì—°" : 35
    "ì„œë²„ ì²˜ë¦¬" : 25
    "í…ìŠ¤íŠ¸ ì²˜ë¦¬" : 15
    "ìŒì„± ì…ë ¥" : 10
    "TTS ìƒì„±" : 5
    "ê¸°íƒ€" : 10
```

```mermaid
xychart-beta
    title "ì²˜ë¦¬ ì‹œê°„ ë¶„ì„ (ì´ˆ)"
    x-axis [ìŒì„±ì…ë ¥, ë„¤íŠ¸ì›Œí¬ì „ì†¡, ì„œë²„ì²˜ë¦¬, TTSìƒì„±, í…ìŠ¤íŠ¸ì²˜ë¦¬, ë©”ë‰´ë¡œë”©]
    y-axis "ì²˜ë¦¬ì‹œê°„" 0 --> 2
    bar [2.0, 5.0, 7.0, 1.0, 3.0, 2.0]
```
